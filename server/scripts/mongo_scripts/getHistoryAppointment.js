function (a){return db.appointmentcomments.aggregate([{$match:{appointmentID:a}},{$lookup:{from:"users",localField:"userID",foreignField:"cuid",as:"appointments_doc"}},{$unwind:"$appointments_doc"},{$project:{timezone:1,content:1,userID:1,appointmentID:1,cuid:1,status:1,dateAdded:1,userName:"$appointments_doc.userName",fullName:"$appointments_doc.fullName"}},{$sort:{dateAdded:-1}}]).toArray()}