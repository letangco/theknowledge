function (a){return db.appointments.aggregate([{$match:{expertID:a}},{$lookup:{from:"users",localField:"userID",foreignField:"cuid",as:"appointments_doc"}},{$unwind:"$appointments_doc"},{$project:{expertID:1,timeZone:1,date:1,content:1,expertID:1,userID:1,cuid:1,status:1,dateAdded:1,minute:1,hour:1,userName:"$appointments_doc.userName",fullName:"$appointments_doc.fullName"}},{$sort:{dateAdded:-1}}]).toArray()}